(function(t){function e(e){for(var a,r,o=e[0],l=e[1],u=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={index:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="../../plugins_packages/elan-ev/Unterrichtsplanung/app/views/index/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r={name:"app"},o=r,l=n("2877"),u=Object(l["a"])(o,s,i,!1,null,null,null),c=u.exports,d=n("2f62");a["a"].use(d["a"]);var m=new d["a"].Store({state:{plan:{}}}),p=m,h=(n("ac6a"),n("8c4f")),f=n("bc3a"),v=n.n(f),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[t._m(0),n("div",{staticClass:"content-wrapper"},[n("nav",{directives:[{name:"show",rawName:"v-show",value:Object.keys(this.plans).length>0,expression:"Object.keys(this.plans).length > 0"}],staticClass:"homebox homebox-wide plans"},[n("header",[t._v("Plan bearbeiten")]),t._l(this.plans,(function(e){return n("router-link",{key:e.id,attrs:{to:"/plan/"+e.id}},[n("p",{staticClass:"homebox-link"},[t._v("\n                    "+t._s(e.attributes.name)+"\n                    "),n("span",{staticClass:"homebox-link-subtitle"},[t._v("\n                        - "+t._s(t.getPlanTemplateName(e.attributes.templates_id))+"\n                    ")]),n("br"),n("span",{staticClass:"homebox-link-subtitle plan-mkdate"},[t._v("\n                        erstellt am: "+t._s(t.getFromatedDate(e.attributes.mkdate))+"\n                    ")]),n("br"),n("span",{staticClass:"homebox-link-subtitle plan-chdate"},[t._v("\n                        geändert am: "+t._s(t.getFromatedDate(e.attributes.chdate))+"\n                    ")])])])}))],2),n("nav",{staticClass:"homebox add-plan",class:{"homebox-small":Object.keys(this.plans).length>0,"homebox-fullwidth":0===Object.keys(this.plans).length}},[n("header",[t._v("Plan hinzufügen")]),n("router-link",{attrs:{to:"/addplan/1"}},[n("p",{staticClass:"homebox-link"},[t._v("Bildungswissenschaftlich")])]),n("router-link",{attrs:{to:"/addplan/2"}},[n("p",{staticClass:"homebox-link"},[t._v("Fachdidaktik Mathematik")])]),n("router-link",{attrs:{to:"/addplan/3"}},[n("p",{staticClass:"homebox-link"},[t._v("Fachdidaktik Sport")])]),n("router-link",{attrs:{to:"/addplan/4"}},[n("p",{staticClass:"homebox-link"},[t._v("Fachdidaktik Geologie")])])],1),n("InfoBox",{attrs:{title:t.infoBoxTitle}})],1)])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[n("span",{staticClass:"nav home"})])}],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"infobox-wrapper"},[n("h3",[t._v(t._s(t.title))]),n("p",[t._v("\n        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et\n        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet\n        clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,\n        consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,\n        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no\n        sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing\n        elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At\n        vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est\n        Lorem ipsum dolor sit amet. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie\n        consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui\n        blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit\n        amet.\n    ")])])},_=[],w={props:{title:String,content:String}},C=w,E=Object(l["a"])(C,x,_,!1,null,null,null),y=E.exports,k={methods:{getPlanTemplateName:function(t){var e="";switch(t){case"1":e="Bildungswissenschaftlich";break;case"2":e="Fachdidaktik Mathematik";break;case"3":e="Fachdidaktik Sport";break;case"4":e="Fachdidaktik Geologie";break}return e},getFromatedDate:function(t){var e=new Date(t);return e.getDate()+"."+e.getMonth()+"1."+e.getFullYear()}}},S={name:"Home",mixins:[k],components:{InfoBox:y},data:function(){return{plans:{}}},computed:{infoBoxTitle:function(){return"Auswählen oder Erstellen"}},mounted:function(){this.getPlans()},methods:{getPlans:function(){var t=this;v.a.get("./api/plans").then((function(e){e.data.data&&(t.plans=e.data.data,console.log(t.plans))})).catch((function(t){console.log(t)}))}}},I=S,T=Object(l["a"])(I,g,b,!1,null,null,null),N=T.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},O=[],P={},B=P,j=Object(l["a"])(B,$,O,!1,null,null,null),L=j.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-plan"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" / Plan hinzufügen\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"plan-metadata"},[n("h3",{staticClass:"plan-metadata-header"},[t._v(t._s(t.getPlanTemplateName(this.$route.params.planType)))]),n("div",{staticClass:"plan-metadata-fieldset"},[n("label",{attrs:{for:"planTitle"}},[t._v("Plantitel:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.planTitle,expression:"planTitle"}],attrs:{type:"text",name:"planTitle"},domProps:{value:t.planTitle},on:{input:function(e){e.target.composing||(t.planTitle=e.target.value)}}}),n("br"),n("label",{attrs:{for:"typeOfSchool"}},[t._v("Schulform:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.typeOfSchool,expression:"typeOfSchool"}],attrs:{type:"text",name:"typeOfSchool"},domProps:{value:t.typeOfSchool},on:{input:function(e){e.target.composing||(t.typeOfSchool=e.target.value)}}}),n("br"),n("label",{attrs:{for:"gradeLevel"}},[t._v("Klassenstufe:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.gradeLevel,expression:"gradeLevel"}],attrs:{type:"text",name:"gradeLevel"},domProps:{value:t.gradeLevel},on:{input:function(e){e.target.composing||(t.gradeLevel=e.target.value)}}}),n("br"),n("label",{attrs:{for:"subject"}},[t._v("Fach:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.subject,expression:"subject"}],attrs:{type:"text",name:"subject"},domProps:{value:t.subject},on:{input:function(e){e.target.composing||(t.subject=e.target.value)}}}),n("br"),n("label",{attrs:{for:"topic"}},[t._v("Thema der Unterrichtsstunde:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.topic,expression:"topic"}],attrs:{type:"text",name:"topic"},domProps:{value:t.topic},on:{input:function(e){e.target.composing||(t.topic=e.target.value)}}}),n("br"),n("label",{attrs:{for:"date"}},[t._v("Datum:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"date",name:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}}),n("br"),n("label",{attrs:{for:"time"}},[t._v("Uhrzeit:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"time",name:"time"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}}),n("br")]),n("div",{staticClass:"plan-metadata-buttons"},[n("button",{staticClass:"button",on:{click:t.createPlan}},[t._v("Plan erstellen")]),n("router-link",{attrs:{to:"/"}},[n("button",{staticClass:"button"},[t._v("zurück zur Übersicht")])])],1),n("div",{staticClass:"plan-metadata-errors"},t._l(t.errors,(function(e){return n("p",{key:e},[t._v(t._s(e))])})),0)]),n("InfoBox",{attrs:{title:t.infoBoxTitle}})],1)])},A=[],F={name:"AddPlan",mixins:[k],components:{InfoBox:y},data:function(){return{errors:[],planTitle:"",typeOfSchool:"",gradeLevel:"",subject:"",topic:"",date:"",time:""}},computed:{infoBoxTitle:function(){return"Einen Plan erstellen"}},methods:{createPlan:function(){if(!this.planTitle)return this.errors.push("Bitte geben Sie einen Plantitel ein!"),!1;this.errors=[];var t=this,e={};e.typeOfSchool=this.typeOfSchool,e.gradeLevel=this.gradeLevel,e.subject=this.subject,e.topic=this.topic,e.date=this.date,e.time=this.time,v.a.post("./api/plans",{templates_id:this.$route.params.planType,name:this.planTitle,metadata:JSON.stringify(e)}).then((function(e){var n=e.data.id;t.$router.push({path:"/plan/"+n})})).catch((function(t){console.log(t)}))}}},R=F,D=Object(l["a"])(R,z,A,!1,null,null,null),M=D.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-plan"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" / Plan bearbeiten\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"plan-metadata"},[n("h3",{staticClass:"plan-metadata-header"},[t._v(t._s(t.plan.attributes.templates_name))]),n("div",{staticClass:"plan-metadata-fieldset"},[n("label",{attrs:{for:"planTitle"}},[t._v("Plantitel:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.name,expression:"plan.attributes.name"}],attrs:{type:"text",name:"planTitle"},domProps:{value:t.plan.attributes.name},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes,"name",e.target.value)}}}),n("br"),n("label",{attrs:{for:"typeOfSchool"}},[t._v("Schulform:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.metadata.typeOfSchool,expression:"plan.attributes.metadata.typeOfSchool"}],attrs:{type:"text",name:"typeOfSchool"},domProps:{value:t.plan.attributes.metadata.typeOfSchool},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes.metadata,"typeOfSchool",e.target.value)}}}),n("br"),n("label",{attrs:{for:"gradeLevel"}},[t._v("Klassenstufe:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.metadata.gradeLevel,expression:"plan.attributes.metadata.gradeLevel"}],attrs:{type:"text",name:"gradeLevel"},domProps:{value:t.plan.attributes.metadata.gradeLevel},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes.metadata,"gradeLevel",e.target.value)}}}),n("br"),n("label",{attrs:{for:"subject"}},[t._v("Fach:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.metadata.subject,expression:"plan.attributes.metadata.subject"}],attrs:{type:"text",name:"subject"},domProps:{value:t.plan.attributes.metadata.subject},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes.metadata,"subject",e.target.value)}}}),n("br"),n("label",{attrs:{for:"topic"}},[t._v("Thema der Unterrichtsstunde:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.metadata.topic,expression:"plan.attributes.metadata.topic"}],attrs:{type:"text",name:"topic"},domProps:{value:t.plan.attributes.metadata.topic},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes.metadata,"topic",e.target.value)}}}),n("br"),n("label",{attrs:{for:"date"}},[t._v("Datum:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.metadata.date,expression:"plan.attributes.metadata.date"}],attrs:{type:"date",name:"date"},domProps:{value:t.plan.attributes.metadata.date},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes.metadata,"date",e.target.value)}}}),n("br"),n("label",{attrs:{for:"time"}},[t._v("Uhrzeit:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.attributes.metadata.time,expression:"plan.attributes.metadata.time"}],attrs:{type:"time",name:"time"},domProps:{value:t.plan.attributes.metadata.time},on:{input:function(e){e.target.composing||t.$set(t.plan.attributes.metadata,"time",e.target.value)}}}),n("br")]),n("div",{staticClass:"plan-metadata-buttons"},[n("button",{staticClass:"button accept",on:{click:t.storePlan}},[t._v("Plan speichern")]),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[n("button",{staticClass:"button cancel"},[t._v("zurück zur Planübersicht")])]),n("button",{staticClass:"button button-remove",on:{click:t.removePlan}},[t._v("Plan löschen")])],1),n("div",{staticClass:"plan-metadata-errors"},t._l(t.errors,(function(e){return n("p",{key:e},[t._v(t._s(e))])})),0)]),n("InfoBox",{attrs:{title:t.infoBoxTitle}})],1)])},Z=[],V=(n("7f7f"),{name:"AddPlan",mixins:[k],components:{InfoBox:y},data:function(){return{errors:[],plan:{}}},beforeMount:function(){this.plan.attributes={},this.plan.attributes.metadata={}},mounted:function(){if(this.plan=this.$store.state.plan,void 0!=this.plan.attributes)try{this.plan.attributes.metadata=JSON.parse(this.plan.attributes.metadata)}catch(t){}else this.plan.attributes.metadata={};this.plan.attributes.templates_name=this.getPlanTemplateName(this.plan.attributes.templates_id)},computed:{infoBoxTitle:function(){return"Einen Plan bearbeiten"}},methods:{storePlan:function(){if(!this.plan.attributes.name)return this.errors.push("Bitte geben Sie einen Plantitel ein!"),!1;this.errors=[];var t=this;v.a.put("./api/plans/"+this.plan.id,{templates_id:this.plan.attributes.templates_id,name:this.plan.attributes.name,metadata:JSON.stringify(this.plan.attributes.metadata)}).then((function(){t.$router.push({path:"/plan/"+t.plan.id})})).catch((function(t){console.log(t)}))},removePlan:function(){var t=this;confirm("Möchten Sie diesen Plan wirklich löschen?")&&v.a.delete("./api/plans/"+this.plan.id).then((function(){t.$router.push({path:"/"})})).catch((function(t){return console.log(t)}))}}}),G=V,U=Object(l["a"])(G,J,Z,!1,null,null,null),q=U.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overview"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" / "+t._s(t.plan.attributes.name)+"\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"overview-boxes"},[n("OverviewBox",{attrs:{title:"situative Voraussetzungen",strucutres_id:1,catName:"situation",planId:t.plan.id}}),n("OverviewBox",{attrs:{title:"individuelle Voraussetzungen",strucutres_id:2,catName:"individual",planId:t.plan.id}}),n("OverviewBox",{attrs:{title:"Intentionalität",strucutres_id:3,catName:"intention",planId:t.plan.id}}),n("OverviewBox",{attrs:{title:"Inhalt",strucutres_id:4,catName:"content",planId:t.plan.id}}),n("OverviewBox",{attrs:{title:"Methodik",strucutres_id:5,catName:"method",planId:t.plan.id}}),n("OverviewBox",{attrs:{title:"Medien",strucutres_id:6,catName:"media",planId:t.plan.id}})],1),n("div",{staticClass:"box-wrapper"},[n("ToolBox",{attrs:{planId:t.plan.id}}),n("InfoBox",{attrs:{title:t.infoBoxTitle}})],1)])])},H=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbox-wrapper"},[n("h3",[t._v("Aktionen")]),n("div",{staticClass:"tools"},[n("router-link",{attrs:{to:"/editplan/"+t.planId}},[n("span",{staticClass:"toolbox-edit",attrs:{title:"Plan bearbeiten"}})]),n("router-link",{attrs:{to:"/editschedule/"+t.planId}},[n("span",{staticClass:"toolbox-schedule",attrs:{title:"Verlaufsplan bearbeiten"}})])],1)])},Q=[],W={name:"ToolBox",props:{planId:String},methods:{}},X=W,tt=Object(l["a"])(X,Y,Q,!1,null,null,null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"overview-box-link",attrs:{to:"/plan/"+t.planId+"/"+t.catName}},[n("div",{staticClass:"overview-box",class:t.catName},[n("h1",[t._v(t._s(t.title))]),n("InterdepComputedBox",{attrs:{strucutres_id:t.strucutres_id}})],1)])},at=[],st=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interdepbox-wrapper interdepcomputedbox-wrapper"},[t.title?n("h3",{class:["interdep-title-type-"+t.strucutres_id]},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"interdeps"},t._l(t.interdeps,(function(t,e){return n("button",{key:e,class:[{"interdep-disabled":!t},"interdep-type-"+e]})})),0)])}),it=[],rt={name:"InterdepComputedBox",props:{strucutres_id:Number,title:String},data:function(){return{interdeps:{}}},mounted:function(){this.getInterdeps()},methods:{getInterdeps:function(){var t=this;v.a.get("./api/interdeps/"+t.$store.state.plan.id+"/"+t.strucutres_id).then((function(e){e.data.data?t.interdeps=JSON.parse(e.data.data[0].attributes.references):t.createInterdep()})).catch((function(t){console.log(t)}))},createInterdep:function(){var t=this,e={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1};delete e[this.strucutres_id],e=JSON.stringify(e),v.a.post("./api/interdeps/"+t.$store.state.plan.id+"/"+t.strucutres_id,{references:e}).then((function(e){console.log(e),t.getInterdeps()})).catch((function(t){return console.log(t)}))}}},ot=rt,lt=Object(l["a"])(ot,st,it,!1,null,null,null),ut=lt.exports,ct={name:"OverviewBox",components:{InterdepComputedBox:ut},props:{title:String,catName:String,strucutres_id:Number,planId:String}},dt=ct,mt=Object(l["a"])(dt,nt,at,!1,null,null,null),pt=mt.exports,ht={name:"Overview",components:{InfoBox:y,ToolBox:et,OverviewBox:pt},data:function(){return{}},computed:{plan:function(){return this.$store.state.plan},infoBoxTitle:function(){return"Planübersicht"}}},ft=ht,vt=Object(l["a"])(ft,K,H,!1,null,null,null),gt=vt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan-situation"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" /\n        "),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[t._v(t._s(t.plan.attributes.name)+" ")]),t._v(" / situative Voraussetzungen\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-container"},[t._l(t.elements,(function(e){return n("NoteElement",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements,changeElement:t.changeElement}})})),n("NoteElementAdder",{attrs:{structures_id:t.structureId,elementList:this.elementList},on:{addElement:t.updateElements}}),n("Summary",{attrs:{structureName:t.structureName,structureId:t.structureId,structureText:t.structureText}})],2),n("div",{staticClass:"box-wrapper"},[n("InterdepBox",{attrs:{strucutres_id:t.structureId,title:"Interdependenzen"}}),n("InfoBox",{attrs:{title:t.structureName}})],1)])])},xt=[],_t=(n("55dd"),n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"interdepbox-wrapper"},[t.title?n("h3",{class:["interdep-title-type-"+t.strucutres_id]},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"interdeps"},t._l(t.interdeps,(function(e,a){return n("button",{key:a,class:[{"interdep-disabled":!e},"interdep-type-"+a],on:{click:function(n){return t.switchInterdep(a,e)}}})})),0)])}),wt=[],Ct={name:"InterdepBox",props:{strucutres_id:Number,title:String},data:function(){return{interdeps:{}}},mounted:function(){this.getInterdeps()},methods:{getInterdeps:function(){var t=this;v.a.get("./api/interdeps/"+t.$store.state.plan.id+"/"+t.strucutres_id).then((function(e){e.data.data?t.interdeps=JSON.parse(e.data.data[0].attributes.references):t.createInterdep()})).catch((function(t){console.log(t)}))},switchInterdep:function(t,e){var n=this;this.interdeps[t]=!e,v.a.put("./api/interdeps/"+n.$store.state.plan.id+"/"+n.strucutres_id,{references:JSON.stringify(n.interdeps)}).then((function(t){return console.log(t)})).catch((function(a){console.log(a),n.interdeps[t]=!e}))},createInterdep:function(){var t=this,e={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1};delete e[this.strucutres_id],e=JSON.stringify(e),v.a.post("./api/interdeps/"+t.$store.state.plan.id+"/"+t.strucutres_id,{references:e}).then((function(e){console.log(e),t.getInterdeps()})).catch((function(t){return console.log(t)}))}}},Et=Ct,yt=Object(l["a"])(Et,_t,wt,!1,null,null,null),kt=yt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note-element-wrapper",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element",class:{unfolded:t.unfolded}},[n("header",{staticClass:"note-element-title"},[n("span",{staticClass:"note-element-toggle",class:{unfolded:t.unfolded,folded:!t.unfolded},on:{click:t.toggleElement}},[t._v("\n                "+t._s(t.element.name)+"\n            ")]),n("span",{staticClass:"note-element-toolbar"},[n("button",{staticClass:"copy",attrs:{title:"Inhalt in die Zwischenablage kopieren"},on:{click:t.copyElement}}),n("button",{staticClass:"remove",attrs:{title:"Textfeld löschen"},on:{click:t.removeElement}})])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.element.attributes.text,expression:"element.attributes.text"},{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],ref:"noteText",staticClass:"note-element-content",domProps:{value:t.element.attributes.text},on:{blur:function(e){return t.autoSave()},keyup:function(e){return t.countChars()},input:function(e){e.target.composing||t.$set(t.element.attributes,"text",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"note-element-char-counter",attrs:{title:"Anzahl der Zeichen"}},[t._v(t._s(t.charCounter))])])},It=[],Tt={name:"NoteElement",props:{element:Object},data:function(){return{charCounter:0,unfolded:!0}},mounted:function(){this.countChars()},methods:{autoSave:function(){var t=this;v.a.put("./api/textfields/"+t.element.id,{structures_id:t.element.attributes.structures_id,text:t.element.attributes.text,plans_id:this.$store.state.plan.id}).then((function(){t.$emit("changeElement",{id:t.element.id,text:t.element.attributes.text})})).catch((function(t){return console.log(t)}))},removeElement:function(){var t=this;console.log("remove element"),confirm("Möchten Sie das Textfeld "+t.element.name+" wirklich löschen?")&&v.a.delete("./api/textfields/"+t.element.id,{structures_id:t.element.attributes.structures_id,plans_id:this.$store.state.plan.id}).then((function(){t.$emit("removeElement",t.element.id)})).catch((function(t){return console.log(t)}))},countChars:function(){var t=this.$refs.noteText.value;this.charCounter=t.length},toggleElement:function(){this.unfolded=!this.unfolded},copyElement:function(){var t=this.element.attributes.text;t=this.element.name+"\n"+t,navigator.clipboard.writeText(t).then((function(){}),(function(t){console.log(t)}))}}},Nt=Tt,$t=Object(l["a"])(Nt,St,It,!1,null,null,null),Ot=$t.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note-element-adder"},[n("button",{staticClass:"add-note",class:{active:t.showAdder},on:{click:t.toggleAdderButton}},[n("span",{staticClass:"add-note-icon"}),n("span",{staticClass:"add-note-text"},[t._v("Textfeld hinzufügen")])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showAdder,expression:"showAdder"}],staticClass:"note-element-list"},t._l(t.elementList,(function(e){return n("li",{key:e.id,class:{"inactive-element":!e.add},on:{click:function(n){return t.addElement(e)}}},[t._v("\n            "+t._s(e.attributes.name)+"\n        ")])})),0)])},Bt=[],jt={name:"NoteElementAdder",props:{elementList:Array,structures_id:Number},data:function(){return{showAdder:!1}},methods:{addElement:function(t){if(t.add){var e=this;v.a.post("./api/textfields",{structures_id:t.id,text:"",plans_id:e.$store.state.plan.id}).then((function(n){e.$emit("addElement",t.id),e.toggleAdderButton(),console.log(n)})).catch((function(t){console.log(t)}))}},toggleAdderButton:function(t){this.showAdder?this.showAdder=!1:this.showAdder=!0}}},Lt=jt,zt=Object(l["a"])(Lt,Pt,Bt,!1,null,null,null),At=zt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note-element-wrapper"},[n("div",{staticClass:"note-element"},[n("header",{staticClass:"note-element-title summary-title"},[n("span",[t._v("Zusammenfassung für "+t._s(t.structureName))]),n("button",{staticClass:"summary-copy-all",on:{click:t.insertFromTextfields}})]),n("textarea",{ref:"summaryText",staticClass:"note-element-content",domProps:{value:t.summaryElement.text}})]),n("div",{staticClass:"note-element-char-counter",attrs:{title:"Anzahl der Zeichen"}},[t._v(t._s(t.charCounter))])])},Rt=[],Dt=(n("a481"),{name:"Summary",props:{structureName:String,structureId:Number,structureText:String},data:function(){return{wysiwyg:Object,charCounter:0,summaryElement:Object}},mounted:function(){var t=this;this.getSummary(),STUDIP.wysiwyg.replace(this.$refs.summaryText);var e=CKEDITOR.instances[this.$refs.summaryText.id];e.on("blur",(function(){t.autoSave(e.getData())})),e.on("change",(function(){t.countChars()}))},methods:{getSummary:function(){var t=this;v.a.get("./api/summary/"+t.$store.state.plan.id+"/"+t.structureId).then((function(e){e.data.data.length>0?(t.summaryElement=e.data.data[0].attributes,t.charCounter=t.summaryElement.text.replace(/\s/g,"").length):t.createSummary()})).catch((function(t){return t}))},createSummary:function(){var t=this;v.a.post("./api/summary",{structures_id:t.structureId,text:"",plans_id:t.$store.state.plan.id}).then((function(e){t.summaryElement=e.data})).catch((function(t){console.log(t)}))},autoSave:function(t){var e=this;v.a.put("./api/summary/"+e.summaryElement.id,{structures_id:e.structureId,text:t,plans_id:e.$store.state.plan.id}).then((function(){})).catch((function(t){console.log(t)}))},countChars:function(){var t=CKEDITOR.instances[this.$refs.summaryText.id],e=t.getData();e=e.replace(/\s/g,""),this.charCounter=e.length},insertFromTextfields:function(){if(confirm("Möchten Sie den Inhalt aus allen Textfeldern einfügen? Der aktuelle Inhalt wird bei überschrieben!")){var t=CKEDITOR.instances[this.$refs.summaryText.id];t.setData(this.structureText),this.autoSave(t.getData())}}}}),Mt=Dt,Jt=Object(l["a"])(Mt,Ft,Rt,!1,null,null,null),Zt=Jt.exports,Vt={name:"Situation",components:{InfoBox:y,InterdepBox:kt,NoteElement:Ot,NoteElementAdder:At,Summary:Zt},data:function(){return{elementList:[],elements:[],structureName:"situative Voraussetzungen",structureId:1,structureText:""}},computed:{plan:function(){return this.$store.state.plan}},mounted:function(){this.getStructures()},methods:{updateElements:function(){this.getStructures()},changeElement:function(t){var e=this.elements.find((function(e){return e.attributes.id==t.id}));e.attributes.text=t.text,this.getElementsText()},getStructures:function(){var t=this;v.a.get("./api/structures/"+this.structureId).then((function(e){var n=e.data.data;n.forEach((function(t){t.add=!0})),t.elementList=n,t.getElements()})).catch((function(t){console.log(t)}))},getElements:function(){var t=this,e=[],n=[];this.elementList.forEach((function(n,a){e.push(v.a.get("./api/textfields/"+t.plan.id+"/"+n.id))})),v.a.all(e).then((function(e){e.forEach((function(e){if(e.data.data.length>0){var a=e.data.data[0],s=t.elementList.find((function(t){return t.id==a.attributes.structures_id}));a.name=s.attributes.name,s.add=!1,n.push(a)}})),n.sort((function(t,e){return t.attributes.id>e.attributes.id?1:e.attributes.id>t.attributes.id?-1:void 0})),t.elements=n,t.getElementsText()}))},getElementsText:function(){var t="";this.elements.forEach((function(e,n){t=t+"<h3>"+e.name+"</h3>",t=t+"<p>"+e.attributes.text+"</p><br>"})),this.structureText=t}}},Gt=Vt,Ut=Object(l["a"])(Gt,bt,xt,!1,null,null,null),qt=Ut.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan-individual"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" /\n        "),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[t._v(t._s(t.plan.attributes.name)+" ")]),t._v(" / individuelle\n        Voraussetzungen\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-container"},[t._l(t.elements,(function(e){return n("NoteElement",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements,changeElement:t.changeElement}})})),n("NoteElementAdder",{attrs:{structures_id:t.structureId,elementList:this.elementList},on:{addElement:t.updateElements}}),n("Summary",{attrs:{structureName:t.structureName,structureId:t.structureId,structureText:t.structureText}})],2),n("div",{staticClass:"box-wrapper"},[n("InterdepBox",{attrs:{strucutres_id:t.structureId,title:"Interdependenzen"}}),n("InfoBox",{attrs:{title:t.structureName}})],1)])])},Ht=[],Yt={name:"Individual",components:{InfoBox:y,InterdepBox:kt,NoteElement:Ot,NoteElementAdder:At,Summary:Zt},data:function(){return{elementList:[],elements:[],structureName:"individuelle Voraussetzungen",structureId:2,structureText:""}},computed:{plan:function(){return this.$store.state.plan}},mounted:function(){this.getStructures()},methods:{updateElements:function(){this.getStructures()},changeElement:function(t){var e=this.elements.find((function(e){return e.attributes.id==t.id}));e.attributes.text=t.text,this.getElementsText()},getStructures:function(){var t=this;v.a.get("./api/structures/"+this.structureId).then((function(e){t.elementList=e.data.data,t.elementList.forEach((function(t){t.add=!0})),t.getElements()})).catch((function(t){console.log(t)}))},getElements:function(){var t=this,e=[],n=[];this.elementList.forEach((function(n,a){e.push(v.a.get("./api/textfields/"+t.plan.id+"/"+n.id))})),v.a.all(e).then((function(e){e.forEach((function(e){if(e.data.data.length>0){var a=e.data.data[0],s=t.elementList.find((function(t){return t.id==a.attributes.structures_id}));a.name=s.attributes.name,s.add=!1,n.push(a)}})),n.sort((function(t,e){return t.attributes.id>e.attributes.id?1:e.attributes.id>t.attributes.id?-1:void 0})),t.elements=n,t.getElementsText()}))},getElementsText:function(){var t="";this.elements.forEach((function(e,n){t=t+"<h3>"+e.name+"</h3>",t=t+"<p>"+e.attributes.text+"</p><br>"})),this.structureText=t}}},Qt=Yt,Wt=Object(l["a"])(Qt,Kt,Ht,!1,null,null,null),Xt=Wt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan-intention"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v("/\n        "),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[t._v(t._s(t.plan.attributes.name))]),t._v("/ Intentionalität\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-container"},[t._l(t.elements,(function(e){return n("IndicativeTarget",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements}})})),n("div",{staticClass:"note-element-adder"},[n("button",{staticClass:"add-note",on:{click:t.addIndicativeTarget}},[n("span",{staticClass:"add-note-icon"}),n("span",{staticClass:"add-note-text"},[t._v("Richtziel hinzufügen")])])]),n("Summary",{attrs:{structureName:t.structureName,structureId:3}})],2),n("div",{staticClass:"box-wrapper"},[n("InterdepBox",{attrs:{strucutres_id:3,title:"Interdependenzen"}}),n("InfoBox",{attrs:{title:t.structureName}})],1)])])},ee=[],ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"target-wrapper indicative-target",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element-wrapper",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element",class:{unfolded:t.unfolded}},[n("header",{staticClass:"note-element-title"},[n("span",{staticClass:"note-element-toggle",class:{unfolded:t.unfolded,folded:!t.unfolded},on:{click:t.toggleElement}},[t._v("\n                    Richtziel\n                ")]),n("span",{staticClass:"note-element-toolbar"},[n("button",{staticClass:"copy",attrs:{title:"Inhalt in die Zwischenablage kopieren"},on:{click:t.copyElement}}),n("button",{staticClass:"remove",attrs:{title:"Textfeld löschen"},on:{click:t.removeElement}})])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.element.attributes.text,expression:"element.attributes.text"},{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],ref:"noteText",staticClass:"note-element-content",domProps:{value:t.element.attributes.text},on:{blur:function(e){return t.autoSave()},keyup:function(e){return t.countChars()},input:function(e){e.target.composing||t.$set(t.element.attributes,"text",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"note-element-char-counter",attrs:{title:"Anzahl der Zeichen"}},[t._v(t._s(t.charCounter))])]),t._l(t.currentCoarseTargets,(function(e){return n("CoarseTarget",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],key:e.id,attrs:{element:e,parentId:t.element.id},on:{removeElement:t.updateElements}})})),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"note-element-adder"},[n("button",{staticClass:"add-note",on:{click:t.addCoarseTarget}},[n("span",{staticClass:"add-note-icon"}),n("span",{staticClass:"add-note-text"},[t._v("Grobziel hinzufügen")])])])],2)},ae=[],se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"target-wrapper coarse-target",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element-wrapper",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element",class:{unfolded:t.unfolded}},[n("header",{staticClass:"note-element-title"},[n("span",{staticClass:"note-element-toggle",class:{unfolded:t.unfolded,folded:!t.unfolded},on:{click:t.toggleElement}},[t._v("\n                    Grobziel\n                ")]),n("span",{staticClass:"note-element-toolbar"},[n("button",{staticClass:"copy",attrs:{title:"Inhalt in die Zwischenablage kopieren"},on:{click:t.copyElement}}),n("button",{staticClass:"remove",attrs:{title:"Textfeld löschen"},on:{click:t.removeElement}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"target-metadata-box"},[n("label",{attrs:{for:"dimension"}},[t._v("Dimension")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.dimension,expression:"dimension"}],attrs:{name:"dimension"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dimension=e.target.multiple?n:n[0]},t.autoSave]}},[n("option",{attrs:{value:"kognitiv"}},[t._v("kognitiv")]),n("option",{attrs:{value:"affektiv"}},[t._v("affektiv")]),n("option",{attrs:{value:"psychomotorisch"}},[t._v("psychomotorisch")])])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.element.attributes.text,expression:"element.attributes.text"},{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],ref:"noteText",staticClass:"note-element-content",domProps:{value:t.element.attributes.text},on:{blur:t.autoSave,keyup:t.countChars,input:function(e){e.target.composing||t.$set(t.element.attributes,"text",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"note-element-char-counter",attrs:{title:"Anzahl der Zeichen"}},[t._v(t._s(t.charCounter))])]),t._l(t.currentFineTargets,(function(e){return n("FineTarget",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],key:e.id,attrs:{element:e,parentId:t.element.id},on:{removeElement:t.updateElements}})})),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"note-element-adder"},[n("button",{staticClass:"add-note",on:{click:t.addFineTarget}},[n("span",{staticClass:"add-note-icon"}),n("span",{staticClass:"add-note-text"},[t._v("Feinziel hinzufügen")])])])],2)},ie=[],re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"target-wrapper fine-target",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element-wrapper",class:{unfolded:t.unfolded}},[n("div",{staticClass:"note-element",class:{unfolded:t.unfolded}},[n("header",{staticClass:"note-element-title"},[n("span",{staticClass:"note-element-toggle",class:{unfolded:t.unfolded,folded:!t.unfolded},on:{click:t.toggleElement}},[t._v("\n                    Feinziel\n                ")]),n("span",{staticClass:"note-element-toolbar"},[n("button",{staticClass:"copy",attrs:{title:"Inhalt in die Zwischenablage kopieren"},on:{click:t.copyElement}}),n("button",{staticClass:"remove",attrs:{title:"Textfeld löschen"},on:{click:t.removeElement}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"target-metadata-box"},[n("label",{attrs:{for:"dimension"}},[t._v("Dimension")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.dimension,expression:"dimension"}],attrs:{name:"dimension"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dimension=e.target.multiple?n:n[0]},t.changeDimension]}},[n("option",{attrs:{value:"kognitiv"}},[t._v("kognitiv")]),n("option",{attrs:{value:"affektiv"}},[t._v("affektiv")]),n("option",{attrs:{value:"psychomotorisch"}},[t._v("psychomotorisch")])]),n("label",{attrs:{for:"level"}},[t._v("Stufe")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.level,expression:"level"}],attrs:{name:"level"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.level=e.target.multiple?n:n[0]},t.autoSave]}},[t._l(t.kognitivLevels,(function(e){return n("option",{directives:[{name:"show",rawName:"v-show",value:"kognitiv"==t.dimension,expression:"dimension == 'kognitiv'"}],key:e,domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),t._l(t.affektivLevels,(function(e){return n("option",{directives:[{name:"show",rawName:"v-show",value:"affektiv"==t.dimension,expression:"dimension == 'affektiv'"}],key:e,domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),t._l(t.psychomotorischLevels,(function(e){return n("option",{directives:[{name:"show",rawName:"v-show",value:"psychomotorisch"==t.dimension,expression:"dimension == 'psychomotorisch'"}],key:e,domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                    ")])}))],2)]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.element.attributes.text,expression:"element.attributes.text"},{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],ref:"noteText",staticClass:"note-element-content",domProps:{value:t.element.attributes.text},on:{blur:function(e){return t.autoSave()},keyup:function(e){return t.countChars()},input:function(e){e.target.composing||t.$set(t.element.attributes,"text",e.target.value)}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.unfolded,expression:"unfolded"}],staticClass:"note-element-char-counter",attrs:{title:"Anzahl der Zeichen"}},[t._v(t._s(t.charCounter))])])])},oe=[],le={name:"FineTarget",props:{element:Object,parentId:String},data:function(){return{charCounter:0,unfolded:!1,structures_id:19,dimension:"",level:"",kognitivLevels:["wissen","verstehen","anwenden","analysieren","synthetisieren"],affektivLevels:["affektiv_A","affektiv_B","affektiv_C"],psychomotorischLevels:["psychomotorisch_A","psychomotorisch_B","psychomotorisch_C"]}},mounted:function(){this.countChars(),this.dimension=this.metadata.dimension,this.level=this.metadata.level},computed:{plan:function(){return this.$store.state.plan},metadata:function(){return JSON.parse(this.element.attributes.metadata)}},methods:{autoSave:function(){var t=this,e={};e.parentId=this.parentId,e.dimension=this.dimension,e.level=this.level,v.a.put("./api/textfields/"+t.element.id,{structures_id:t.structures_id,text:t.element.attributes.text,plans_id:this.$store.state.plan.id,metadata:JSON.stringify(e)}).then((function(){})).catch((function(t){return console.log(t)}))},removeElement:function(){var t=this;console.log("remove element"),confirm("Möchten Sie das Feinziel wirklich löschen?")&&v.a.delete("./api/textfields/"+t.element.id,{structures_id:t.structures_id,plans_id:this.$store.state.plan.id}).then((function(){t.$emit("removeElement",t.element.id)})).catch((function(t){return console.log(t)}))},countChars:function(){var t=this.$refs.noteText.value;t=t.replace(/\s/g,""),this.charCounter=t.length},toggleElement:function(){this.unfolded=!this.unfolded},copyElement:function(){var t=this.element.attributes.text;t="Feinziel\nDimension: "+this.dimension+"\nStufe: "+this.level+"\n"+t,navigator.clipboard.writeText(t).then((function(){}),(function(t){console.log(t)}))},changeDimension:function(){this.level="",this.autoSave()}}},ue=le,ce=Object(l["a"])(ue,re,oe,!1,null,null,null),de=ce.exports,me={name:"CoarseTarget",components:{FineTarget:de},props:{element:Object,parentId:String},data:function(){return{charCounter:0,unfolded:!1,structures_id:18,currentFineTargets:[],fineTargets:[],dimension:""}},mounted:function(){this.countChars(),this.getFineTargets(),this.dimension=this.metadata.dimension},computed:{plan:function(){return this.$store.state.plan},metadata:function(){return JSON.parse(this.element.attributes.metadata)}},methods:{autoSave:function(){var t=this,e={};e.parentId=this.parentId,e.dimension=this.dimension,v.a.put("./api/textfields/"+t.element.id,{structures_id:t.structures_id,text:t.element.attributes.text,plans_id:this.$store.state.plan.id,metadata:JSON.stringify(e)}).then((function(){})).catch((function(t){return console.log(t)}))},removeElement:function(){var t=this;confirm("Möchten Sie das Grobziel und alle darunter liegenden Ziele wirklich löschen?")&&v.a.delete("./api/textfields/"+t.element.id,{structures_id:t.structures_id,plans_id:this.$store.state.plan.id}).then((function(){t.$emit("removeElement",t.element.id)})).catch((function(t){return console.log(t)}))},updateElements:function(){this.fineTargets=[],this.currentFineTargets=[],this.getFineTargets()},countChars:function(){var t=this.$refs.noteText.value;t=t.replace(/\s/g,""),this.charCounter=t.length},toggleElement:function(){this.unfolded=!this.unfolded},copyElement:function(){var t=this.dimension,e=this.element.attributes.text;e="Grobziel\nDimension: "+t+"\n"+e,navigator.clipboard.writeText(e).then((function(){}),(function(t){console.log(t)}))},getFineTargets:function(){var t=this;v.a.get("./api/textfields/"+t.plan.id+"/19").then((function(e){if(e.data.data.length>0){var n=e.data;n.data.forEach((function(e){t.fineTargets.push(e),console.log(e)})),t.getCurrentFineTargets()}})).catch((function(t){console.log(t)}))},getCurrentFineTargets:function(){var t=this;this.fineTargets.forEach((function(e){var n=JSON.parse(e.attributes.metadata);n.parentId==t.element.id&&t.currentFineTargets.push(e)}))},addFineTarget:function(){var t=this,e={};e.parentId=this.element.id,v.a.post("./api/textfields",{structures_id:19,text:"",plans_id:t.$store.state.plan.id,metadata:JSON.stringify(e)}).then((function(){t.updateElements()})).catch((function(t){return console.log(t)}))}}},pe=me,he=Object(l["a"])(pe,se,ie,!1,null,null,null),fe=he.exports,ve={name:"IndicativeTarget",props:{element:Object,fineTargets:Object},data:function(){return{charCounter:0,unfolded:!1,structures_id:17,currentCoarseTargets:[],coarseTargets:[]}},components:{CoarseTarget:fe,FineTarget:de},mounted:function(){this.countChars(),this.getCoarseTargets()},computed:{plan:function(){return this.$store.state.plan}},methods:{autoSave:function(){var t=this;v.a.put("./api/textfields/"+t.element.id,{structures_id:t.structures_id,text:t.element.attributes.text,plans_id:this.$store.state.plan.id}).then((function(){})).catch((function(t){return console.log(t)}))},removeElement:function(){var t=this;confirm("Möchten Sie das Richtziel und alle darunter liegenden Ziele wirklich löschen?")&&v.a.delete("./api/textfields/"+t.element.id,{structures_id:t.structures_id,plans_id:this.$store.state.plan.id}).then((function(){t.$emit("removeElement",t.element.id)})).catch((function(t){return console.log(t)}))},updateElements:function(){this.coarseTargets=[],this.currentCoarseTargets=[],this.getCoarseTargets()},countChars:function(){var t=this.$refs.noteText.value;t=t.replace(/\s/g,""),this.charCounter=t.length},toggleElement:function(){this.unfolded=!this.unfolded},copyElement:function(){var t=this.element.attributes.text;t="Richtziel\n"+t,navigator.clipboard.writeText(t).then((function(){}),(function(t){console.log(t)}))},getCoarseTargets:function(){var t=this;v.a.get("./api/textfields/"+t.plan.id+"/18").then((function(e){if(e.data.data.length>0){var n=e.data;n.data.forEach((function(e){t.coarseTargets.push(e)})),t.getCurrentCoarseTargets()}})).catch((function(t){console.log(t)}))},getCurrentCoarseTargets:function(){var t=this;this.coarseTargets.forEach((function(e){var n=JSON.parse(e.attributes.metadata);n.parentId==t.element.id&&t.currentCoarseTargets.push(e)}))},addCoarseTarget:function(){var t=this,e={};e.parentId=this.element.id,v.a.post("./api/textfields",{structures_id:18,text:"",plans_id:t.$store.state.plan.id,metadata:JSON.stringify(e)}).then((function(){t.updateElements()})).catch((function(t){return console.log(t)}))}}},ge=ve,be=Object(l["a"])(ge,ne,ae,!1,null,null,null),xe=be.exports,_e={name:"Intention",components:{InfoBox:y,InterdepBox:kt,IndicativeTarget:xe,Summary:Zt},data:function(){return{elements:[],structureName:"Intentionalität"}},computed:{plan:function(){return this.$store.state.plan}},mounted:function(){this.getIndicativeTargets()},methods:{updateElements:function(){this.getIndicativeTargets()},getIndicativeTargets:function(){var t=this;t.elements=[],v.a.get("./api/textfields/"+t.plan.id+"/17").then((function(e){if(e.data.data.length>0){var n=e.data;n.data.forEach((function(e){t.elements.push(e)}))}})).catch((function(t){console.log(t)}))},addIndicativeTarget:function(){var t=this;v.a.post("./api/textfields",{structures_id:17,text:"",plans_id:t.$store.state.plan.id}).then((function(){t.getIndicativeTargets()})).catch((function(t){return console.log(t)}))}}},we=_e,Ce=Object(l["a"])(we,te,ee,!1,null,null,null),Ee=Ce.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan-content"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" /\n        "),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[t._v(t._s(t.plan.attributes.name)+" ")]),t._v(" / Inhalt\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-container"},[n("div",{staticClass:"plan-content-tabs"},[n("h3",{class:{active:!t.toggle},on:{click:function(e){t.toggle=!1}}},[t._v(t._s(this.properStructuresName))]),n("h3",{class:{active:t.toggle},on:{click:function(e){t.toggle=!0}}},[t._v(t._s(this.didacticStructuresName))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.toggle,expression:"!toggle"}],staticClass:"plan-content-analysis plan-content-analysis-proper"},[t._l(t.elementsProper,(function(e){return n("NoteElement",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements}})})),n("NoteElementAdder",{attrs:{structures_id:this.properStructuresId,elementList:this.properStructures},on:{addElement:t.updateElements}})],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"plan-content-analysis plan-content-analysis-didactic"},[t._l(t.elementsDidactic,(function(e){return n("NoteElement",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements}})})),n("NoteElementAdder",{attrs:{structures_id:this.didacticStructuresId,elementList:this.didacticStructures},on:{addElement:t.updateElements}})],2),n("Summary",{attrs:{structureName:t.structureName,structureId:4}})],1)]),n("div",{staticClass:"box-wrapper"},[n("InterdepBox",{attrs:{strucutres_id:4,title:"Interdependenzen"}}),n("InfoBox",{attrs:{title:t.structureName}})],1)])])},ke=[],Se={name:"Content",components:{InfoBox:y,InterdepBox:kt,NoteElement:Ot,NoteElementAdder:At,Summary:Zt},data:function(){return{toggle:!1,structureName:"Inhalt",elementsProper:[],elementsDidactic:[],contentStructures:[],properStructures:[],didacticStructures:[],properStructuresId:"",didacticStructuresId:"",properStructuresName:"",didacticStructuresName:""}},computed:{plan:function(){return this.$store.state.plan}},created:function(){this.getContentStructures()},mounted:function(){},methods:{updateElements:function(){this.elementsProper=[],this.elementsDidactic=[],this.contentStructures=[],this.properStructures=[],this.didacticStructures=[],this.getContentStructures()},getContentStructures:function(){var t=this;v.a.get("./api/structures/4").then((function(e){e.data.data&&(e.data.data.forEach((function(e){t.contentStructures.push(e.attributes)})),t.properStructuresId=t.contentStructures[0].id,t.didacticStructuresId=t.contentStructures[1].id,t.properStructuresName=t.contentStructures[0].name,t.didacticStructuresName=t.contentStructures[1].name,t.getSubstructures())})).catch((function(t){console.log(t)}))},getSubstructures:function(){var t=this;v.a.get("./api/structures/"+t.contentStructures[0].id).then((function(e){t.properStructures=e.data.data,t.properStructures.forEach((function(t){t.add=!0})),t.getElements(t.properStructures,t.elementsProper)})).catch((function(t){console.log(t)})),v.a.get("./api/structures/"+t.contentStructures[1].id).then((function(e){t.didacticStructures=e.data.data,t.didacticStructures.forEach((function(t){t.add=!0})),t.getElements(t.didacticStructures,t.elementsDidactic)})).catch((function(t){console.log(t)}))},getElements:function(t,e){var n=this;t.forEach((function(a,s){v.a.get("./api/textfields/"+n.plan.id+"/"+a.id).then((function(n){if(n.data.data){var a=n.data.data[0];a.name=t.find((function(t){return t.id==a.attributes.structures_id})).attributes.name,e.push(a),e.sort((function(t,e){return t.attributes.id>e.attributes.id?1:e.attributes.id>t.attributes.id?-1:void 0})),t[s].add=!1}})).catch((function(t){console.log(t)}))}))}}},Ie=Se,Te=Object(l["a"])(Ie,ye,ke,!1,null,null,null),Ne=Te.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan-method"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" /\n        "),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[t._v(t._s(t.plan.attributes.name)+" ")]),t._v(" / Methodik\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-container"},[t._l(t.elements,(function(e){return n("NoteElement",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements,changeElement:t.changeElement}})})),n("NoteElementAdder",{attrs:{structures_id:t.structureId,elementList:this.elementList},on:{addElement:t.updateElements}}),n("Summary",{attrs:{structureName:t.structureName,structureId:t.structureId,structureText:t.structureText}})],2),n("div",{staticClass:"box-wrapper"},[n("InterdepBox",{attrs:{strucutres_id:t.structureId,title:"Interdependenzen"}}),n("InfoBox",{attrs:{title:t.structureName}})],1)])])},Oe=[],Pe={name:"Method",components:{InfoBox:y,InterdepBox:kt,NoteElement:Ot,NoteElementAdder:At,Summary:Zt},data:function(){return{elementList:[],elements:[],structureName:"Methodik",structureId:5,structureText:""}},computed:{plan:function(){return this.$store.state.plan}},mounted:function(){this.getStructures()},methods:{updateElements:function(){this.getStructures()},getStructures:function(){var t=this;v.a.get("./api/structures/"+this.structureId).then((function(e){t.elementList=e.data.data,t.elementList.forEach((function(t){t.add=!0})),t.getElements()})).catch((function(t){console.log(t)}))},changeElement:function(t){var e=this.elements.find((function(e){return e.attributes.id==t.id}));e.attributes.text=t.text,this.getElementsText()},getElements:function(){var t=this,e=[],n=[];this.elementList.forEach((function(n,a){e.push(v.a.get("./api/textfields/"+t.plan.id+"/"+n.id))})),v.a.all(e).then((function(e){e.forEach((function(e){if(e.data.data.length>0){var a=e.data.data[0],s=t.elementList.find((function(t){return t.id==a.attributes.structures_id}));a.name=s.attributes.name,s.add=!1,n.push(a)}})),n.sort((function(t,e){return t.attributes.id>e.attributes.id?1:e.attributes.id>t.attributes.id?-1:void 0})),t.elements=n,t.getElementsText()}))},getElementsText:function(){var t="";this.elements.forEach((function(e,n){t=t+"<h3>"+e.name+"</h3>",t=t+"<p>"+e.attributes.text+"</p><br>"})),this.structureText=t}}},Be=Pe,je=Object(l["a"])(Be,$e,Oe,!1,null,null,null),Le=je.exports,ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plan-media"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" /\n        "),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[t._v(t._s(t.plan.attributes.name)+" ")]),t._v(" / Medien\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"content-container"},[t._l(t.elements,(function(e){return n("NoteElement",{key:e.id,attrs:{element:e},on:{removeElement:t.updateElements,changeElement:t.changeElement}})})),n("NoteElementAdder",{attrs:{structures_id:t.structureId,elementList:this.elementList},on:{addElement:t.updateElements}}),n("Summary",{attrs:{structureName:t.structureName,structureId:t.structureId,structureText:t.structureText}})],2),n("div",{staticClass:"box-wrapper"},[n("InterdepBox",{attrs:{strucutres_id:t.structureId,title:"Interdependenzen"}}),n("InfoBox",{attrs:{title:t.structureName}})],1)])])},Ae=[],Fe={name:"Media",components:{InfoBox:y,InterdepBox:kt,NoteElement:Ot,NoteElementAdder:At,Summary:Zt},data:function(){return{elementList:[],elements:[],structureName:"Medien",structureId:6,structureText:""}},computed:{plan:function(){return this.$store.state.plan}},mounted:function(){this.getStructures()},methods:{updateElements:function(){this.getStructures()},changeElement:function(t){var e=this.elements.find((function(e){return e.attributes.id==t.id}));e.attributes.text=t.text,this.getElementsText()},getStructures:function(){var t=this;v.a.get("./api/structures/"+this.structureId).then((function(e){t.elementList=e.data.data,t.elementList.forEach((function(t){t.add=!0})),t.getElements()})).catch((function(t){console.log(t)}))},getElements:function(){var t=this,e=[],n=[];this.elementList.forEach((function(n,a){e.push(v.a.get("./api/textfields/"+t.plan.id+"/"+n.id))})),v.a.all(e).then((function(e){e.forEach((function(e){if(e.data.data.length>0){var a=e.data.data[0],s=t.elementList.find((function(t){return t.id==a.attributes.structures_id}));a.name=s.attributes.name,s.add=!1,n.push(a)}})),n.sort((function(t,e){return t.attributes.id>e.attributes.id?1:e.attributes.id>t.attributes.id?-1:void 0})),t.elements=n,t.getElementsText()}))},getElementsText:function(){var t="";this.elements.forEach((function(e,n){t=t+"<h3>"+e.name+"</h3>",t=t+"<p>"+e.attributes.text+"</p><br>"})),this.structureText=t}}},Re=Fe,De=Object(l["a"])(Re,ze,Ae,!1,null,null,null),Me=De.exports,Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-schedule"},[n("h1",[n("router-link",{attrs:{to:"/"}},[n("span",{staticClass:"nav home"})]),t._v(" / Verlaufsplan\n    ")],1),n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"schedule-table-wrapper"},[n("table",{staticClass:"schedule-table"},[t._m(0),t._l(this.rows,(function(e,a){return n("ScheduleRow",{key:a,attrs:{row:e,rowId:a},on:{changeRow:t.updateRow,removeRow:t.removeRow}})}))],2),n("button",{staticClass:"button add",on:{click:t.addRow}},[t._v("Zeile hinzufügen")]),n("br"),n("button",{staticClass:"button accept",on:{click:t.updateSchedule}},[t._v("Verlaufsplan speichern")]),n("router-link",{attrs:{to:"/plan/"+t.plan.id}},[n("button",{staticClass:"button cancel"},[t._v("zurück zur Planübersicht")])])],1),n("InfoBox",{attrs:{title:t.infoBoxTitle}})],1)])},Ze=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Zeit")]),n("th",[t._v("Phase")]),n("th",[t._v("Handlungsschritte")]),n("th",[t._v("Methodik")]),n("th",[t._v("Medien")]),n("th",{staticClass:"schedule-header-row-remove"})])}],Ve=(n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"text"},domProps:{value:t.time},on:{change:t.updateRow,input:function(e){e.target.composing||(t.time=e.target.value)}}})]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phase,expression:"phase"}],attrs:{type:"text"},domProps:{value:t.phase},on:{change:t.updateRow,input:function(e){e.target.composing||(t.phase=e.target.value)}}})]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.step,expression:"step"}],attrs:{type:"text"},domProps:{value:t.step},on:{change:t.updateRow,input:function(e){e.target.composing||(t.step=e.target.value)}}})]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.method,expression:"method"}],attrs:{type:"text"},domProps:{value:t.method},on:{change:t.updateRow,input:function(e){e.target.composing||(t.method=e.target.value)}}})]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.media,expression:"media"}],attrs:{type:"text"},domProps:{value:t.media},on:{change:t.updateRow,input:function(e){e.target.composing||(t.media=e.target.value)}}})]),n("td",{staticClass:"schedule-cell-row-remove"},[n("button",{staticClass:"schedule-row-remove",attrs:{title:"Zeile entfernen"},on:{click:t.removeRow}})])])}),Ge=[],Ue={name:"ScheduleRow",props:{row:{},rowId:String},data:function(){return{time:"",phase:"",step:"",method:"",media:""}},mounted:function(){this.time=this.row.time,this.phase=this.row.phase,this.step=this.row.step,this.method=this.row.method,this.media=this.row.media},methods:{updateRow:function(){var t={};t[this.rowId]={time:this.time,phase:this.phase,step:this.step,method:this.method,media:this.media},this.$emit("changeRow",t)},removeRow:function(){this.$emit("removeRow",this.rowId)}}},qe=Ue,Ke=Object(l["a"])(qe,Ve,Ge,!1,null,null,null),He=Ke.exports,Ye={name:"Schedule",components:{ScheduleRow:He,InfoBox:y},props:{},data:function(){return{plan:{},rows:{},infoBoxTitle:"Verlaufsplan"}},mounted:function(){this.plan=this.$store.state.plan,this.rows=this.getRows(),this.addRow()},methods:{getRows:function(){var t={0:{time:"012",phase:"01",step:"03",method:"0do",media:"0book"},1:{time:"112",phase:"11",step:"13",method:"1do",media:"1book"}};return t},updateRow:function(t){var e=Object.keys(t)[0];this.$set(this.rows,e,t[e])},addRow:function(){var t=parseInt(Object.keys(this.rows)[Object.keys(this.rows).length-1])+1;this.$set(this.rows,t,{})},removeRow:function(t){this.$delete(this.rows,t)},updateSchedule:function(){console.log(this.rows)}}},Qe=Ye,We=Object(l["a"])(Qe,Je,Ze,!1,null,null,null),Xe=We.exports;a["a"].use(h["a"]);var tn=[{path:"/",component:N},{path:"/plan/:planId",component:L,children:[{path:"/",component:gt},{path:"situation",component:qt},{path:"individual",component:Xt},{path:"intention",component:Ee},{path:"content",component:Ne},{path:"method",component:Le},{path:"media",component:Me}]},{path:"/addplan/:planType",component:M},{path:"/editplan/:planId",component:q},{path:"/editschedule/:planId",component:Xe}],en=new h["a"]({routes:tn});en.beforeEach((function(t,e,n){if(t.params.planId)if(t.params.planId==p.state.plan.id)n();else{var a=[];v.a.get("./api/plans").then((function(e){a=e.data.data,a.forEach((function(e){if(t.params.planId==e.id)return p.state.plan=e,!0})),n()})).catch((function(t){console.log(t)}))}else p.state.plan=[],n()}));var nn=en;a["a"].config.productionTip=!1,new a["a"]({el:"#app",store:p,router:nn,render:function(t){return t(c)}})}});
//# sourceMappingURL=index.js.map